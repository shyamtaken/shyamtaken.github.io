<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DAV AI Assistant</title>
  <link rel="stylesheet" href="design.css" />
</head>
<body>
  <div class="container">
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px;">
      <button id="newChatBtn"
  style="
    background: linear-gradient(135deg,black,black);
    border: none;
    padding: 10px;
    border-radius: 50%;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  "
  onmouseover="this.style.transform='scale(1.1)';this.style.boxShadow='0 6px 14px rgba(0,0,0,0.2)'"
  onmouseout="this.style.transform='scale(1)';this.style.boxShadow='0 4px 10px rgba(0,0,0,0.15)'"
  title="New Chat"
>
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="white" viewBox="0 0 24 24">
    <path d="M12 5v14m-7-7h14" stroke="white" stroke-width="2" stroke-linecap="round"/>
  </svg>
</button>

     <h1 style="
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  font-size: 1.8em;
  font-weight: 700;
  background: linear-gradient(90deg, black, black);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: flex;
  align-items: center;
  gap: 8px;
">
  <span style="font-size: 1.4em; animation: float 3s ease-in-out infinite;"></span>
  ShyamGPT
</h1>
  <button id="translateBtn"
    style="
      background: linear-gradient(135deg, #0078fe, #005bb5);
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      font-family: 'Segoe UI', sans-serif;
      cursor: pointer;
      transition: background 0.2s ease, transform 0.2s ease;
    "
    onmouseover="this.style.background='#005bb5';this.style.transform='scale(1.05)'"
    onmouseout="this.style.background='linear-gradient(135deg, #0078fe, #005bb5)';this.style.transform='scale(1)'">
    üåê Translate
  </button>
<style>
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}
</style>

    </div>
    <div class="chat-box" id="chat-box"></div>

    <form id="chat-form">
      <div style="display: flex; align-items: center; background: #f7f7f8; border-radius: 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); padding: 8px 16px; gap: 8px;">
        <div style="position: relative;">
          <button type="button" id="plusBtn" style="width:36px;height:36px;font-size:22px;border-radius:50%;background:black;border:1px solid black;box-shadow:0 1px 4px rgba(0,0,0,0.06);margin-right:8px;">+</button>
          <div id="plusMenu" style="display:none;position:absolute;top:40px;left:0;background:#fff;border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.12);z-index:10;min-width:120px;">
            <div style="display:flex;flex-direction:column;">
              <button type="button" style="width:100%;border:none;background:none;padding:12px 20px;text-align:left;cursor:pointer;font-size:1em;transition:background 0.2s;border-radius:6px 6px 0 0;" onmouseover="this.style.background='#f0f4fa'" onmouseout="this.style.background='none'" onclick="document.getElementById('screenshotInput').click();">üì∑ Screenshot</button>
              <button type="button" style="width:100%;border:none;background:none;padding:12px 20px;text-align:left;cursor:pointer;font-size:1em;transition:background 0.2s;border-radius:0 0 6px 6px;border-top:1px solid #eee;" onmouseover="this.style.background='#f0f4fa'" onmouseout="this.style.background='none'" onclick="openCamera()">üì∏ Camera</button>
            </div>
          </div>
          <input type="file" id="screenshotInput" accept="image/*" style="display:none;" />
        </div>
        <input
          type="text"
          id="user-input"
          placeholder="Ask anything"
          autocomplete="off"
          required
          style="flex:1; font-size:1.1em; padding:12px 16px; border-radius:18px; border:1px solid #ddd; background:#fff; outline:none;"
        />
<button type="button" id="micBtn" title="Speak">
  <svg width="24" height="24" viewBox="0 0 20 20">
    <path d="M10 2a3 3 0 0 1 3 3v6a3 3 0 0 1-6 0V5a3 3 0 0 1 3-3zm5 9a1 1 0 0 1 2 0c0 3.31-2.69 6-6 6s-6-2.69-6-6a1 1 0 0 1 2 0c0 2.21 1.79 4 4 4s4-1.79 4-4z"/>
  </svg>
</button>

<script>
  const micBtn = document.getElementById('micBtn');
  const messageBar = document.getElementById('messageBar');

  // Use Web Speech API
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  const recognition = new SpeechRecognition();
  recognition.lang = 'en-US';
  recognition.interimResults = true;
  recognition.continuous = false;

  let listening = false;

  micBtn.addEventListener('click', () => {
    if (!listening) {
      recognition.start();
      listening = true;
      micBtn.classList.add('listening');
    } else {
      recognition.stop();
      listening = false;
      micBtn.classList.remove('listening');
    }
  });

  recognition.addEventListener('result', (event) => {
    let transcript = '';
    for (let i = event.resultIndex; i < event.results.length; i++) {
      transcript += event.results[i][0].transcript;
    }
    messageBar.value = transcript.trim();
  });

  recognition.addEventListener('end', () => {
    listening = false;
    micBtn.classList.remove('listening');
  });
</script>
<button type="submit" id="sendBtn" style="width:40px;height:40px;border-radius:50%;background:#0078fe;color:#fff;font-size:18px;border:none;box-shadow:0 1px 4px rgba(0,0,0,0.08);margin-left:8px;">‚ûî</button>
<button type="button" id="blockBtn" style="width:40px;height:40px;border-radius:50%;background:#ef4444;color:#fff;font-size:18px;border:none;box-shadow:0 1px 4px rgba(0,0,0,0.08);margin-left:8px;display:none;">‚õî</button>
      </div>
    </form>
  </div>

  <script src="code.js"></script>
  <script>
    let uploadedImageFile = null;
    function openCamera() {
      alert('Camera capture not implemented yet.');
      document.getElementById('plusMenu').style.display = 'none';
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {pageLanguage: 'en'},
      'google_translate_element'
    );
  }

  document.getElementById('translateBtn').addEventListener('click', () => {
    if (!document.getElementById('google_translate_element')) {
      const div = document.createElement('div');
      div.id = 'google_translate_element';
      div.style.position = 'fixed';
      div.style.top = '60px';
      div.style.right = '20px';
      div.style.zIndex = '9999';
      document.body.appendChild(div);

      const script = document.createElement('script');
      script.src = "//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
      document.body.appendChild(script);
    }
  });
</script>

</body>
</html>